(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],[,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"a":{"name":"Art Ginzburg","email":"art.ginzburg@ya.ru","url":"https://github.com/artginzburg"},"c":"https://github.com/artginzburg-learning/movies-explorer-frontend","b":"https://deeplomka.nomoredomains.club"}')},,,,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(14),i=n.n(s),r=(n(29),n(3)),l=n(5),o=n(4),j="api.nomoreparties.co",u="/",b="/movies",d="/saved-movies",h="/signin",m="/signup",_="/profile",O={title:"Movies Explorer"},f={title:"\u0424\u0438\u043b\u044c\u043c\u044b"},g={title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"},p={title:"\u0412\u0445\u043e\u0434",action:"\u0412\u043e\u0439\u0442\u0438"},x={title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",action:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},v={title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"};var N=n(9),k=n(10),y=n(16),C=n(15),S=n(12),w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(N.a)(this,e),this._handleFetch=function(e){return e.ok?e.json():Promise.reject(e.statusText)},this._handleData=function(e){var t;return null!==(t=e.data)&&void 0!==t?t:e},this._baseUrl=t.baseUrl,this._headers=t.headers,this._credentials=t.credentials}return Object(k.a)(e,[{key:"_customFetch",value:function(e,t,n){var a,c={headers:null!==(a=this._headers)&&void 0!==a?a:{},credentials:this._credentials};return t&&"GET"!==t&&(c.method=t,"DELETE"!==t&&(c.headers["Content-Type"]="application/json")),n&&(c.body=JSON.stringify(n)),fetch("".concat(this._baseUrl).concat(e),c).then(this._handleFetch).then(this._handleData)}}]),e}(),F=new URL(S.b);F.hostname="api.".concat(F.hostname);var E={host:F,endpoints:{register:"signup",login:"signin",logout:"signout",user:"users/me",movies:"movies"}},I=new(function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).saveMovie=function(t){return e._customFetch(E.endpoints.movies,"POST",t)},e.deleteMovie=function(t){return e._customFetch("".concat(E.endpoints.movies,"/").concat(t),"DELETE")},e}return Object(k.a)(n,[{key:"register",value:function(e,t,n){return this._customFetch(E.endpoints.register,"POST",{name:n,password:t,email:e})}},{key:"login",value:function(e,t){return this._customFetch(E.endpoints.login,"POST",{password:t,email:e})}},{key:"logout",value:function(){return this._customFetch(E.endpoints.logout,"DELETE")}},{key:"getUserInfo",value:function(){return this._customFetch(E.endpoints.user)}},{key:"updateUserInfo",value:function(e){var t=e.name,n=e.email;return this._customFetch(E.endpoints.user,"PATCH",{name:t,email:n})}},{key:"getMovies",value:function(){return this._customFetch(E.endpoints.movies)}}]),n}(w))({baseUrl:E.host,credentials:"include"}),T=new(function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"getAllMovies",value:function(){return this._customFetch("")}}]),n}(w))({baseUrl:"https://".concat(j,"/beatfilm-movies")});function D(e,t){var n=Object(a.useState)((function(){try{var n=localStorage[e];return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),c=Object(l.a)(n,2),s=c[0],i=c[1],r=Object(a.useCallback)((function(t){localStorage[e]=JSON.stringify(t),i(t)}),[e]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(a.useRef)();Object(a.useEffect)((function(){c.current=t}),[t]),Object(a.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return c.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])}("storage",Object(a.useCallback)((function(n){n.key===e&&i(n.newValue?JSON.parse(n.newValue):t)}),[e,t])),[s,r]}n(19);var L=n(2),M=(n(22),n(0)),U={name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439",about:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"},P=c.a.createContext(),z=c.a.createContext();function J(e){var t=e.state,n=e.dispatch,a=e.children;return Object(M.jsx)(P.Provider,{value:t,children:Object(M.jsx)(z.Provider,{value:n,children:a})})}var R=n(13),A={},B=!0;var G=O.title,q=function(e){Object(a.useEffect)((function(){document.title=e?"".concat(e," \xb7 ").concat(G):G}),[e])},H=n(8),V=n.p+"static/media/logo.1edc39b5.svg",Y="form__input",K="form__button",Z=(n(32),["onSubmit"]),Q=Object(a.memo)((function(e){var t=e.onSubmit,n=Object(H.a)(e,Z),c=Object(a.useCallback)((function(e){t&&(e.preventDefault(),t(e))}),[t]);return Object(M.jsx)("form",Object(L.a)(Object(L.a)({action:"#",onSubmit:c,className:"form"},n),{},{children:n.children}))})),W=function(e){return e.filter(Boolean).join(" ")},X=function(e){return{className:W(e)}},$=(n(33),["isFocused","validationMessage","labelTitle"]),ee="text",te=!0,ne=2,ae=Object(a.forwardRef)((function(e,t){var n,c,s,i=e.isFocused,r=e.validationMessage,l=(e.labelTitle,Object(H.a)(e,$)),o=null!==t&&void 0!==t?t:Object(a.createRef)(),j=null!==(n=l.type)&&void 0!==n?n:ee,u=null!==(c=l.required)&&void 0!==c?c:te,b=j===ee?ne:null,d={type:j,minLength:null!==(s=l.minLength)&&void 0!==s?s:b,required:u,ref:o};return Object(a.useEffect)((function(){i&&o&&o.current&&o.current.parentElement!==document.activeElement.parentElement&&setTimeout((function(){o&&o.current&&o.current.focus()}),50)}),[i,o]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("input",Object(L.a)(Object(L.a)(Object(L.a)({},l),X([Y,r&&"form__input_type_error",l.className])),d)),Object(M.jsx)("p",Object(L.a)(Object(L.a)({},X(["form__error",r&&"form__error_visible"])),{},{id:"".concat(l.id,"-error"),children:r}))]})})),ce=["form","additionalInput"],se={autoCorrect:"off",spellCheck:!1,className:"".concat(Y,"_theme_dark")},ie="email",re="password",le=Object(a.memo)((function(e){var t=e.form,n=e.additionalInput,c=Object(H.a)(e,ce),s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],j=i[1],b=o?"".concat(c.buttonSavingTitle,"..."):c.buttonTitle;return Object(M.jsxs)("div",{className:"auth",children:[Object(M.jsx)(r.b,{to:u,className:"logo auth__logo",children:Object(M.jsx)("img",{className:"logo__img",alt:O.title,src:V})}),Object(M.jsx)("h2",{className:"auth__title",children:c.title}),Object(M.jsxs)(Q,{onSubmit:function(e){j(!0);var n=t.getData(),a=n.name,s=n.email,i=n.password;c.handleSubmit(e,s,i,a).finally((function(){j(!1)}))},onReset:t.reset,children:[Object(M.jsxs)("div",{className:"form__container",children:[n&&Object(M.jsxs)("label",{children:[Object(M.jsx)("p",{className:"form__label",children:n.title}),Object(M.jsx)(ae,Object(L.a)(Object(L.a)(Object(L.a)({},se),{},{autoFocus:!0},t.register(n.name)),{},{id:n.name,type:n.name,autoComplete:n.name},n.props))]}),Object(M.jsxs)("label",{children:[Object(M.jsx)("p",{className:"form__label",children:"E-mail"}),Object(M.jsx)(ae,Object(L.a)(Object(L.a)(Object(L.a)({},se),{},{autoFocus:!n},t.register(ie)),{},{id:ie,type:ie,autoComplete:ie,placeholder:"mail@example.com"}))]}),Object(M.jsxs)("label",{children:[Object(M.jsx)("p",{className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(M.jsx)(ae,Object(L.a)(Object(L.a)(Object(L.a)({},se),t.register(re)),{},{type:re,id:c.passwordAutocomplete,autoComplete:c.passwordAutocomplete,placeholder:"n4Gorshke7idelKING"}))]})]}),Object(M.jsx)("button",{type:"submit",disabled:t.isInvalid||o,className:"auth__button ".concat(K," ").concat(K,"_theme_dark"),children:b})]}),Object(M.jsxs)("p",{className:"auth__signin",children:["".concat(c.otherOption.tagline," "),Object(M.jsx)(r.b,{to:c.otherOption.path,className:"auth__signin-link",children:c.otherOption.title})]})]})})),oe={passwordAutocomplete:"current-password",title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",buttonTitle:p.action,buttonSavingTitle:p.title,otherOption:{tagline:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",path:m,title:x.title}},je=Object(a.memo)((function(e){return q(p.title),Object(M.jsx)(le,Object(L.a)(Object(L.a)({},e),oe))})),ue={passwordAutocomplete:"new-password",title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",buttonTitle:x.action,buttonSavingTitle:x.title,otherOption:{tagline:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",path:h,title:p.action}},be=Object(a.memo)((function(e){return q(x.title),Object(M.jsx)(le,Object(L.a)(Object(L.a)(Object(L.a)({},e),ue),{},{additionalInput:{title:"\u0418\u043c\u044f",name:"name",props:{placeholder:"\u0410\u0440\u0442",pattern:"[A-Za-z\u0410-\u042f\u0401\u0430-\u044f\u0451 -]+"}}}))})),de=(n(42),Object(a.memo)((function(e){var t,n,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(A),r=Object(l.a)(i,2),o=r[0],j=r[1],u=Object(a.useState)(B),b=Object(l.a)(u,2),d=b[0],h=b[1];function m(t,n){s((function(a){var c=Object(L.a)(Object(L.a)({},a),{},Object(R.a)({},t,n));return JSON.stringify(Object(L.a)(Object(L.a)({},e),c))===JSON.stringify(e)&&h(!0),c}))}function _(e,t){j((function(n){return Object(L.a)(Object(L.a)({},n),{},Object(R.a)({},e,t))}))}var O=Object(a.useCallback)((function(t,n){s(null!==n&&void 0!==n?n:e),j(A),h(B)}),[e]);return{registerForm:function(){return{isSubmitDisabled:d,onReset:O}},register:function(e){var t;return{value:null!==(t=c[e])&&void 0!==t?t:"",onChange:function(t){var n=t.currentTarget,a=n.value,c=n.validationMessage;m(e,a),_(e,a.length?c:"");var s=n.closest("form").checkValidity();h(!s)},validationMessage:o[e],name:e}},reset:O,getData:function(){return c},isInvalid:d}}({email:null!==(n="email",t=localStorage[n]&&atob(JSON.parse(localStorage[n])))&&void 0!==t?t:"",password:""});return e.loggedIn?Object(M.jsx)(o.a,{to:u}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(o.b,{path:h,children:Object(M.jsx)(je,{handleSubmit:e.handleLogin,form:c})}),Object(M.jsx)(o.b,{path:m,children:Object(M.jsx)(be,{handleSubmit:e.handleRegister,form:c})})]})}))),he=(n(43),(new Date).getFullYear());var me=function(){return Object(M.jsxs)("footer",{className:"footer",children:[Object(M.jsx)("h2",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(M.jsxs)("div",{className:"footer__copyright",children:[Object(M.jsxs)("div",{className:"footer__links",children:[Object(M.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.ru",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(M.jsx)("a",{className:"footer__link",href:S.c,target:"_blank",rel:"noreferrer",children:"GitHub"}),Object(M.jsx)("a",{className:"footer__link",href:"https://t.me/artginzburg",target:"_blank",rel:"noreferrer",children:"Telegram"})]}),Object(M.jsxs)("a",{className:"footer__link footer__link-copyright",href:S.a.url,target:"_blank",rel:"noreferrer",children:["\xa9 ",he]})]})]})},_e=(n(44),document.getElementById("modal-root"));function Oe(e){return Object(s.createPortal)(Object(M.jsx)("section",{onClick:e.onClose,className:"navigation",children:Object(M.jsxs)("nav",{className:"navigation__container",children:[Object(M.jsx)("button",{onClick:e.onClose,type:"button",className:"navigation__close-button"}),Object(M.jsxs)("ul",{className:"navigation__list",children:[Object(M.jsx)("li",{className:"navigation__list-item",children:Object(M.jsx)(r.c,{exact:!0,to:u,className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(M.jsx)("li",{className:"navigation__list-item",children:Object(M.jsx)(r.c,{to:b,className:"navigation__link",activeClassName:"navigation__link_active",children:f.title})}),Object(M.jsx)("li",{className:"navigation__list-item",children:Object(M.jsx)(r.c,{to:d,className:"navigation__link",activeClassName:"navigation__link_active",children:g.title})})]}),Object(M.jsx)(r.b,{to:_,className:"profile-button navigation__profile-button",children:v.title})]})}),_e)}n(45);var fe=function(e){var t=e.loggedIn,n=Object(a.useState)(!1),c=Object(l.a)(n,2),s=c[0],i=c[1],o=Object(a.useCallback)((function(){i(!0)}),[]),j=Object(a.useCallback)((function(e){e.target===e.currentTarget&&i(!1)}),[]);return Object(M.jsxs)("header",{className:"header",children:[Object(M.jsxs)("nav",{className:"header__links",children:[Object(M.jsx)(r.b,{to:u,className:"logo header__logo",children:Object(M.jsx)("img",{className:"logo__img",alt:O.title,src:V})}),t&&Object(M.jsxs)("div",{className:"header__navigation",children:[Object(M.jsx)(r.c,{activeClassName:"header__navigation-link_active",to:b,className:"header__navigation-link",children:f.title}),Object(M.jsx)(r.c,{activeClassName:"header__navigation-link_active",to:d,className:"header__navigation-link",children:g.title})]})]}),Object(M.jsx)("div",{className:"header__profile",children:t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(r.b,{to:_,className:"profile-button header__profile-button",children:v.title}),Object(M.jsx)("button",{type:"button",onClick:o,className:"header__burger"}),s&&Object(M.jsx)(Oe,{onClose:j})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(r.b,{to:m,className:"header__profile-link",children:x.title}),Object(M.jsx)(r.b,{to:h,className:"header__profile-link",children:p.action})]})})]})},ge=n.p+"static/media/student.22e6909b.jpg";n(46);var pe=function(e){var t=new Date,n=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth();return(a<0||0===a&&t.getDate()<e.getDate())&&n--,n}(new Date(2002,3,25));var xe=function(){return Object(M.jsx)("section",{className:"aboutme",id:"student",children:Object(M.jsxs)("article",{children:[Object(M.jsx)("h2",{className:"aboutme__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(M.jsxs)("div",{className:"aboutme__content",children:[Object(M.jsx)("img",{className:"aboutme__image",src:ge,alt:"\u0410\u0440\u0442 \u0413\u0438\u043d\u0437\u0431\u0443\u0440\u0433"}),Object(M.jsxs)("div",{className:"aboutme__student",children:[Object(M.jsxs)("div",{className:"aboutme__student-article",children:[Object(M.jsx)("h3",{className:"aboutme__heading",children:"\u0410\u0440\u0442\u0443\u0440"}),Object(M.jsxs)("p",{className:"aboutme__subheading",children:["\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, ",pe," \u043b\u0435\u0442"]}),Object(M.jsx)("p",{className:"aboutme__text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam accumsan volutpat sollicitudin. Nullam eget mauris ante. Nullam id mattis sapien. Praesent mollis, diam eget dictum semper, velit diam ultrices ante, vitae condimentum lorem eros vitae tortor. Etiam elit leo, hendrerit et nisi a, aliquam suscipit tellus. Suspendisse pretium tellus ac erat ultrices viverra. Donec placerat dui nibh, vel aliquet tellus ultricies et."})]}),Object(M.jsxs)("div",{className:"aboutme__links",children:[Object(M.jsx)("a",{className:"aboutme__link",href:"https://t.me/ginzart",target:"_blank",rel:"noreferrer",children:"Telegram"}),Object(M.jsx)("a",{className:"aboutme__link",href:"https://github.com/artginzburg",target:"_blank",rel:"noreferrer",children:"GitHub"})]})]})]})]})})};n(47);function ve(e){var t=e.heading,n=e.children;return Object(M.jsxs)("li",{className:"aboutproject__column",children:[Object(M.jsx)("h3",{className:"aboutproject__heading",children:t}),Object(M.jsx)("p",{className:"aboutproject__text",children:n})]})}var Ne=function(){return Object(M.jsx)("section",{className:"aboutproject",id:"about",children:Object(M.jsxs)("article",{children:[Object(M.jsx)("h2",{className:"aboutproject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(M.jsxs)("ul",{className:"aboutproject__columns",children:[Object(M.jsx)(ve,{heading:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(M.jsx)(ve,{heading:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e < 5 \u043d\u0435\u0434\u0435\u043b\u044c",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(M.jsxs)("ul",{className:"aboutproject__plan",children:[Object(M.jsxs)("li",{className:"aboutproject__plan-segment",children:[Object(M.jsx)("p",{className:"aboutproject__plan-heading",children:"3 \u0434\u043d\u044f"}),Object(M.jsx)("p",{className:"aboutproject__plan-text",children:"Back-end"})]}),Object(M.jsxs)("li",{className:"aboutproject__plan-segment",children:[Object(M.jsx)("p",{className:"aboutproject__plan-heading",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(M.jsx)("p",{className:"aboutproject__plan-text",children:"Front-end"})]})]})]})})};n(48);var ke=function(){return Object(M.jsx)("nav",{className:"navtab",children:Object(M.jsxs)("ul",{className:"navtab__links",children:[Object(M.jsx)("li",{className:"navtab__link-container",children:Object(M.jsx)("a",{className:"navtab__link",href:"#about",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(M.jsx)("li",{className:"navtab__link-container",children:Object(M.jsx)("a",{className:"navtab__link",href:"#techs",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(M.jsx)("li",{className:"navtab__link-container",children:Object(M.jsx)("a",{className:"navtab__link",href:"#student",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})};n(49);var ye=function(){return Object(M.jsxs)("section",{className:"portfolio",id:"portfolio",children:[Object(M.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(M.jsxs)("ul",{className:"portfolio__links",children:[Object(M.jsx)("li",{className:"portfolio__links-item",children:Object(M.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/how-to-learn/",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(M.jsx)("li",{className:"portfolio__links-item",children:Object(M.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/russian-travel/",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(M.jsx)("li",{className:"portfolio__links-item",children:Object(M.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/react-mesto-auth/",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})};n(50);var Ce=function(){return Object(M.jsx)("section",{className:"promo",children:Object(M.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})},Se=(n(51),[["HTML"],["CSS"],["JS","javascript"],["React"],["Git"],["Express.js","express"],["mongoDB"]]);var we=function(){return Object(M.jsxs)("section",{className:"techs",id:"techs",children:[Object(M.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(M.jsxs)("article",{className:"techs__content",children:[Object(M.jsx)("h3",{className:"techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(M.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(M.jsx)("ul",{className:"techs__list",children:Se.map((function(e,t){var n;return Object(M.jsx)("li",{className:"techs__list-item",children:Object(M.jsx)("a",{className:"techs__list-link",href:"https://github.com/topics/".concat((null!==(n=e[1])&&void 0!==n?n:e[0]).toLowerCase()),target:"_blank",rel:"noreferrer",children:e[0]})},t)}))})]})]})};var Fe=function(e){var t=e.loggedIn;return q("\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(fe,{loggedIn:t}),Object(M.jsxs)("main",{children:[Object(M.jsx)(Ce,{}),Object(M.jsx)(ke,{}),Object(M.jsx)(Ne,{}),Object(M.jsx)(we,{}),Object(M.jsx)(xe,{}),Object(M.jsx)(ye,{})]}),Object(M.jsx)(me,{})]})};n(52);function Ee(e){return"".concat(e," ").concat(["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"][(t=e)%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?Math.abs(t)%10:5]]);var t}function Ie(e){var t=e.card,n=e.type,a=["moviescard__button","moviescard__button_type_".concat(n)],c=t.nameRU||t.nameEN;return Object(M.jsxs)("li",{className:"moviescard",children:[Object(M.jsx)("a",{className:"moviescard__link",href:t.trailerLink,target:"_blank",rel:"noreferrer",children:Object(M.jsxs)("figure",{className:"moviescard__figure",children:[Object(M.jsxs)("div",{className:"moviescard__text-container",children:[Object(M.jsx)("figcaption",{className:"moviescard__title",children:c}),Object(M.jsx)("p",{className:"moviescard__duration",children:Ee(t.duration)})]}),Object(M.jsx)("img",{className:"moviescard__image",src:"https://".concat(j).concat(t.image.url),alt:c})]})}),Object(M.jsx)("input",Object(L.a)({type:"checkbox",defaultChecked:"add"===n?t.added:!t.added},X(a)))]})}n(53);function Te(e){var t=e.cards,n=e.type;return Object(M.jsx)("section",{className:"moviescards",children:Object(M.jsx)("ul",{className:"moviescards__list",children:t.map((function(e){var t;return Object(M.jsx)(Ie,{card:e,type:n},null!==(t=e.id)&&void 0!==t?t:Math.random())}))})})}n(54);function De(){return Object(M.jsx)("section",{className:"searchform",children:Object(M.jsxs)("form",{className:"searchform__form",children:[Object(M.jsx)("fieldset",{className:"searchform__fieldset",children:Object(M.jsxs)("label",{className:"searchform__fieldset-container",children:[Object(M.jsx)("input",{required:!0,className:"searchform__input",type:"search",placeholder:"\u0424\u0438\u043b\u044c\u043c"}),Object(M.jsx)("button",{className:"searchform__submit",type:"submit"})]})}),Object(M.jsxs)("label",{className:"searchform__label",children:[Object(M.jsx)("input",{className:"searchform__switch",type:"checkbox"}),"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"]})]})})}function Le(e){var t=e.cards,n=void 0===t?[]:t,a=e.type,c=void 0===a?"add":a,s=e.loggedIn;return q("add"===c?f.title:g.title),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(fe,{loggedIn:s}),Object(M.jsxs)("main",{children:[Object(M.jsx)(De,{}),Object(M.jsx)(Te,{type:c,cards:n})]}),Object(M.jsx)(me,{})]})}n(55);function Me(){return Object(M.jsxs)("main",{className:"notfound",children:[Object(M.jsx)("h1",{className:"notfound__title",children:"404"}),Object(M.jsx)("h2",{className:"notfound__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(M.jsx)("nav",{className:"notfound__navigation",children:Object(M.jsx)(r.b,{to:u,className:"notfound__link",children:"\u041d\u0430\u0437\u0430\u0434"})})]})}n(56);var Ue=["loggedIn"];function Pe(e){var t=e.loggedIn,n=Object(H.a)(e,Ue);q("\u041f\u0440\u043e\u0444\u0438\u043b\u044c");var a=function(){var e=c.a.useContext(P);if(void 0===e)throw new Error("useCurrentUser must be used within a CurrentUserProvider");return e}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(fe,{loggedIn:t}),Object(M.jsxs)("main",{className:"profile",children:[Object(M.jsxs)("h2",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",a.name,"!"]}),Object(M.jsxs)("ul",{className:"profile__details",children:[Object(M.jsxs)("li",{className:"profile__details-item",children:[Object(M.jsx)("h3",{className:"profile__details-heading",children:"\u0418\u043c\u044f"}),Object(M.jsx)("p",{className:"profile__details-text",children:a.name})]}),Object(M.jsxs)("li",{className:"profile__details-item",children:[Object(M.jsx)("h3",{className:"profile__details-heading",children:"E-mail"}),Object(M.jsx)("p",{className:"profile__details-text",children:a.email})]})]}),Object(M.jsxs)("div",{className:"profile__buttons",children:[Object(M.jsx)("button",{type:"button",className:"profile__button",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(M.jsx)("button",{onClick:n.handleSignOut,type:"button",className:"profile__button profile__button_type_dangerous",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})}var ze=function(e){return Object(M.jsx)(o.b,{path:e.path,children:e.loggedIn?e.children:Object(M.jsx)(o.a,{to:h})})};var Je=function(){var e=Object(o.g)(),t=D("currentUser",U),n=Object(l.a)(t,2),c=n[0],s=n[1],i=D("loggedIn",!1),r=Object(l.a)(i,2),j=r[0],O=r[1],f=function(e,t){var n=D(e,t),c=Object(l.a)(n,2),s=c[0],i=c[1],r=Object(a.useCallback)((function(e){i(btoa(e))}),[i]),o=Object(a.useRef)(atob(s));return Object(a.useEffect)((function(){o.current=atob(s)})),[o.current,r]}("email","")[1],g=D("cards",[]),p=Object(l.a)(g,2),x=p[0],v=p[1],N=D("savedCards",[]),k=Object(l.a)(N,2),y=k[0],C=k[1];Object(a.useEffect)((function(){j&&(I.getUserInfo().then(s).catch((function(e){return console.log("Couldnt get user info from the server",e)})),T.getAllMovies().then(v).catch((function(e){return console.log("Couldnt get initial cards from the server",e)})),I.getMovies().then(C).catch((function(e){return console.log("Couldnt get saved cards from the server",e)})))}),[j,v,s,C]);var S=Object(a.useCallback)((function(e){f(e),O(!0)}),[f,O]),w=Object(a.useCallback)((function(){I.getUserInfo().then((function(t){t&&(S(t.email),e.replace(u))})).catch((function(e){O(!1),console.log(e)}))}),[S,e,O]);return Object(a.useEffect)((function(){w()}),[w]),Object(M.jsx)(J,{state:c,dispatch:s,children:Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.b,{exact:!0,path:u,children:Object(M.jsx)(Fe,{loggedIn:j})}),Object(M.jsx)(o.b,{path:[m,h],children:Object(M.jsx)(de,{loggedIn:j,handleLogin:function(t,n,a){if(n&&a)return I.login(n,a).then((function(a){a&&(t.target.reset(),S(n),e.push(u))})).catch((function(e){console.log(e)}))},handleRegister:function(t,n,a,c){return I.register(n,a,c).then((function(){e.replace(h)})).catch((function(e){console.log(e)}))}})}),Object(M.jsx)(ze,{path:b,loggedIn:j,children:Object(M.jsx)(Le,{savedCards:y,cards:x,loggedIn:j})}),Object(M.jsx)(ze,{path:d,loggedIn:j,children:Object(M.jsx)(Le,{savedCards:y,cards:x,type:"remove",loggedIn:j})}),Object(M.jsx)(ze,{path:_,loggedIn:j,children:Object(M.jsx)(Pe,{handleSignOut:function(){I.logout().then((function(){O(!1),e.replace(h),window.scrollTo(0,0)})).catch((function(e){console.log(e)}))},loggedIn:j})}),Object(M.jsx)(o.b,{component:Me})]})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(r.a,{basename:"",children:Object(M.jsx)(Je,{})})}),document.getElementById("root")),Re()}],[[57,1,2]]]);
//# sourceMappingURL=main.12753862.chunk.js.map