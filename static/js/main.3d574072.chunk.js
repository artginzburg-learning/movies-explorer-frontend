(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],[,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"a":{"name":"Art Ginzburg","email":"art.ginzburg@ya.ru","url":"https://github.com/artginzburg"},"c":"https://github.com/artginzburg-learning/movies-explorer-frontend","b":"https://deeplomka.nomoredomains.club"}')},,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(16),r=a.n(s),i=(a(32),a(3)),l=a(11),o=a.n(l),j=a(27),u=a(18),b=a(5),d=a(4),h="api.nomoreparties.co",m="/",O="/movies",_="/saved-movies",f="/signin",g="/signup",p="/profile",v={title:"Movies Explorer"},x={title:"\u0424\u0438\u043b\u044c\u043c\u044b"},N={title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"},k={title:"\u0412\u0445\u043e\u0434",action:"\u0412\u043e\u0439\u0442\u0438"},C={title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",action:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},y={title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"};var S=a(9),w=a(10),E=a(20),F=a(19),I=a(14),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(S.a)(this,e),this._handleFetch=function(e){return e.ok?e.json():Promise.reject(e.statusText)},this._handleData=function(e){var t;return null!==(t=e.data)&&void 0!==t?t:e},this._baseUrl=t.baseUrl,this._headers=t.headers,this._credentials=t.credentials}return Object(w.a)(e,[{key:"_customFetch",value:function(e,t,a){var n,c={headers:null!==(n=this._headers)&&void 0!==n?n:{},credentials:this._credentials};return t&&"GET"!==t&&(c.method=t,"DELETE"!==t&&(c.headers["Content-Type"]="application/json")),a&&(c.body=JSON.stringify(a)),fetch("".concat(this._baseUrl).concat(e),c).then(this._handleFetch).then(this._handleData)}}]),e}(),D=new URL(I.b);D.hostname="api.".concat(D.hostname);var M={host:D,endpoints:{register:"signup",login:"signin",logout:"signout",user:"users/me",movies:"movies"}},L=new(function(e){Object(E.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).saveMovie=function(t){return e._customFetch(M.endpoints.movies,"POST",t)},e.deleteMovie=function(t){return e._customFetch("".concat(M.endpoints.movies,"/").concat(t),"DELETE")},e}return Object(w.a)(a,[{key:"register",value:function(e,t,a){return this._customFetch(M.endpoints.register,"POST",{name:a,password:t,email:e})}},{key:"login",value:function(e,t){return this._customFetch(M.endpoints.login,"POST",{password:t,email:e})}},{key:"logout",value:function(){return this._customFetch(M.endpoints.logout,"DELETE")}},{key:"getUserInfo",value:function(){return this._customFetch(M.endpoints.user)}},{key:"updateUserInfo",value:function(e){var t=e.name,a=e.email;return this._customFetch(M.endpoints.user,"PATCH",{name:t,email:a})}},{key:"getMovies",value:function(){return this._customFetch(M.endpoints.movies)}}]),a}(T))({baseUrl:M.host,credentials:"include"}),U=new(function(e){Object(E.a)(a,e);var t=Object(F.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"getAllMovies",value:function(){return this._customFetch("")}}]),a}(T))({baseUrl:"https://".concat(h,"/beatfilm-movies")});function P(e,t){var a=Object(n.useState)((function(){try{var a=localStorage[e];return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),c=Object(b.a)(a,2),s=c[0],r=c[1],i=Object(n.useCallback)((function(t){localStorage[e]=JSON.stringify(t),r(t)}),[e]);return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return c.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])}("storage",Object(n.useCallback)((function(a){a.key===e&&r(a.newValue?JSON.parse(a.newValue):t)}),[e,t])),[s,i]}var z=a(2),J=a(0),R={name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439",about:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"},A=c.a.createContext(),B=c.a.createContext();function G(e){var t=e.state,a=e.dispatch,n=e.children;return Object(J.jsx)(A.Provider,{value:t,children:Object(J.jsx)(B.Provider,{value:a,children:n})})}var q=a(15),H={},V=!0;var Y=v.title,K=function(e){Object(n.useEffect)((function(){document.title=e?"".concat(e," \xb7 ").concat(Y):Y}),[e])},Z=a(6),Q=a.p+"static/media/logo.1edc39b5.svg",W="form__input",X="form__button",$=(a(35),["onSubmit"]),ee=Object(n.memo)((function(e){var t=e.onSubmit,a=Object(Z.a)(e,$),c=Object(n.useCallback)((function(e){t&&(e.preventDefault(),t(e))}),[t]);return Object(J.jsx)("form",Object(z.a)(Object(z.a)({action:"#",onSubmit:c,className:"form"},a),{},{children:a.children}))})),te=function(e){return e.filter(Boolean).join(" ")},ae=function(e){return{className:te(e)}},ne=(a(36),["isFocused","validationMessage","labelTitle"]),ce="text",se=!0,re=2,ie=Object(n.forwardRef)((function(e,t){var a,c,s,r=e.isFocused,i=e.validationMessage,l=(e.labelTitle,Object(Z.a)(e,ne)),o=null!==t&&void 0!==t?t:Object(n.createRef)(),j=null!==(a=l.type)&&void 0!==a?a:ce,u=null!==(c=l.required)&&void 0!==c?c:se,b=j===ce?re:null,d={type:j,minLength:null!==(s=l.minLength)&&void 0!==s?s:b,required:u,ref:o};return Object(n.useEffect)((function(){r&&o&&o.current&&o.current.parentElement!==document.activeElement.parentElement&&setTimeout((function(){o&&o.current&&o.current.focus()}),50)}),[r,o]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("input",Object(z.a)(Object(z.a)(Object(z.a)({},l),ae([W,i&&"form__input_type_error",l.className])),d)),Object(J.jsx)("p",Object(z.a)(Object(z.a)({},ae(["form__error",i&&"form__error_visible"])),{},{id:"".concat(l.id,"-error"),children:i}))]})})),le=["form","additionalInput"],oe={autoCorrect:"off",spellCheck:!1,className:"".concat(W,"_theme_dark")},je="email",ue="password",be=Object(n.memo)((function(e){var t=e.form,a=e.additionalInput,c=Object(Z.a)(e,le),s=Object(n.useState)(!1),r=Object(b.a)(s,2),l=r[0],o=r[1],j=l?"".concat(c.buttonSavingTitle,"..."):c.buttonTitle;return Object(J.jsxs)("div",{className:"auth",children:[Object(J.jsx)(i.b,{to:m,className:"logo auth__logo",children:Object(J.jsx)("img",{className:"logo__img",alt:v.title,src:Q})}),Object(J.jsx)("h2",{className:"auth__title",children:c.title}),Object(J.jsxs)(ee,{onSubmit:function(e){o(!0);var a=t.getData(),n=a.name,s=a.email,r=a.password;c.handleSubmit(e,s,r,n).finally((function(){o(!1)}))},onReset:t.reset,children:[Object(J.jsxs)("div",{className:"form__container",children:[a&&Object(J.jsxs)("label",{children:[Object(J.jsx)("p",{className:"form__label",children:a.title}),Object(J.jsx)(ie,Object(z.a)(Object(z.a)(Object(z.a)({},oe),{},{autoFocus:!0},t.register(a.name)),{},{id:a.name,type:a.name,autoComplete:a.name},a.props))]}),Object(J.jsxs)("label",{children:[Object(J.jsx)("p",{className:"form__label",children:"E-mail"}),Object(J.jsx)(ie,Object(z.a)(Object(z.a)(Object(z.a)({},oe),{},{autoFocus:!a},t.register(je)),{},{id:je,type:je,autoComplete:je,placeholder:"mail@example.com"}))]}),Object(J.jsxs)("label",{children:[Object(J.jsx)("p",{className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(J.jsx)(ie,Object(z.a)(Object(z.a)(Object(z.a)({},oe),t.register(ue)),{},{type:ue,id:c.passwordAutocomplete,autoComplete:c.passwordAutocomplete,placeholder:"n4Gorshke7idelKING"}))]})]}),Object(J.jsx)("button",{type:"submit",disabled:t.isInvalid||l,className:"auth__button ".concat(X," ").concat(X,"_theme_dark"),children:j})]}),Object(J.jsxs)("p",{className:"auth__signin",children:["".concat(c.otherOption.tagline," "),Object(J.jsx)(i.b,{to:c.otherOption.path,className:"auth__signin-link",children:c.otherOption.title})]})]})})),de={passwordAutocomplete:"current-password",title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",buttonTitle:k.action,buttonSavingTitle:k.title,otherOption:{tagline:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",path:g,title:C.title}},he=Object(n.memo)((function(e){return K(k.title),Object(J.jsx)(be,Object(z.a)(Object(z.a)({},e),de))})),me={passwordAutocomplete:"new-password",title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",buttonTitle:C.action,buttonSavingTitle:C.title,otherOption:{tagline:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",path:f,title:k.action}},Oe=Object(n.memo)((function(e){return K(C.title),Object(J.jsx)(be,Object(z.a)(Object(z.a)(Object(z.a)({},e),me),{},{additionalInput:{title:"\u0418\u043c\u044f",name:"name",props:{placeholder:"\u0410\u0440\u0442",pattern:"[A-Za-z\u0410-\u042f\u0401\u0430-\u044f\u0451 -]+"}}}))})),_e=(a(45),Object(n.memo)((function(e){var t,a,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(b.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(H),i=Object(b.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(V),u=Object(b.a)(j,2),d=u[0],h=u[1];function m(t,a){s((function(n){var c=Object(z.a)(Object(z.a)({},n),{},Object(q.a)({},t,a));return JSON.stringify(Object(z.a)(Object(z.a)({},e),c))===JSON.stringify(e)&&h(!0),c}))}function O(e,t){o((function(a){return Object(z.a)(Object(z.a)({},a),{},Object(q.a)({},e,t))}))}var _=Object(n.useCallback)((function(t,a){s(null!==a&&void 0!==a?a:e),o(H),h(V)}),[e]);return{registerForm:function(){return{isSubmitDisabled:d,onReset:_}},register:function(e){var t;return{value:null!==(t=c[e])&&void 0!==t?t:"",onChange:function(t){var a=t.currentTarget,n=a.value,c=a.validationMessage;m(e,n),O(e,n.length?c:"");var s=a.closest("form").checkValidity();h(!s)},validationMessage:l[e],name:e}},reset:_,getData:function(){return c},isInvalid:d}}({email:null!==(a="email",t=localStorage[a]&&atob(JSON.parse(localStorage[a])))&&void 0!==t?t:"",password:""});return e.loggedIn?Object(J.jsx)(d.a,{to:m}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(d.b,{path:f,children:Object(J.jsx)(he,{handleSubmit:e.handleLogin,form:c})}),Object(J.jsx)(d.b,{path:g,children:Object(J.jsx)(Oe,{handleSubmit:e.handleRegister,form:c})})]})}))),fe=(a(46),(new Date).getFullYear());var ge=function(){return Object(J.jsxs)("footer",{className:"footer",children:[Object(J.jsx)("h2",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(J.jsxs)("div",{className:"footer__copyright",children:[Object(J.jsxs)("div",{className:"footer__links",children:[Object(J.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.ru",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(J.jsx)("a",{className:"footer__link",href:I.c,target:"_blank",rel:"noreferrer",children:"GitHub"}),Object(J.jsx)("a",{className:"footer__link",href:"https://t.me/artginzburg",target:"_blank",rel:"noreferrer",children:"Telegram"})]}),Object(J.jsxs)("a",{className:"footer__link footer__link-copyright",href:I.a.url,target:"_blank",rel:"noreferrer",children:["\xa9 ",fe]})]})]})},pe=(a(47),document.getElementById("modal-root"));function ve(e){return Object(s.createPortal)(Object(J.jsx)("section",{onClick:e.onClose,className:"navigation",children:Object(J.jsxs)("nav",{className:"navigation__container",children:[Object(J.jsx)("button",{onClick:e.onClose,type:"button",className:"navigation__close-button"}),Object(J.jsxs)("ul",{className:"navigation__list",children:[Object(J.jsx)("li",{className:"navigation__list-item",children:Object(J.jsx)(i.c,{exact:!0,to:m,className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(J.jsx)("li",{className:"navigation__list-item",children:Object(J.jsx)(i.c,{to:O,className:"navigation__link",activeClassName:"navigation__link_active",children:x.title})}),Object(J.jsx)("li",{className:"navigation__list-item",children:Object(J.jsx)(i.c,{to:_,className:"navigation__link",activeClassName:"navigation__link_active",children:N.title})})]}),Object(J.jsx)(i.b,{to:p,className:"profile-button navigation__profile-button",children:y.title})]})}),pe)}a(48);var xe=function(e){var t=e.loggedIn,a=Object(n.useState)(!1),c=Object(b.a)(a,2),s=c[0],r=c[1],l=Object(n.useCallback)((function(){r(!0)}),[]),o=Object(n.useCallback)((function(e){e.target===e.currentTarget&&r(!1)}),[]);return Object(J.jsxs)("header",{className:"header",children:[Object(J.jsxs)("nav",{className:"header__links",children:[Object(J.jsx)(i.b,{to:m,className:"logo header__logo",children:Object(J.jsx)("img",{className:"logo__img",alt:v.title,src:Q})}),t&&Object(J.jsxs)("div",{className:"header__navigation",children:[Object(J.jsx)(i.c,{activeClassName:"header__navigation-link_active",to:O,className:"header__navigation-link",children:x.title}),Object(J.jsx)(i.c,{activeClassName:"header__navigation-link_active",to:_,className:"header__navigation-link",children:N.title})]})]}),Object(J.jsx)("div",{className:"header__profile",children:t?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(i.b,{to:p,className:"profile-button header__profile-button",children:y.title}),Object(J.jsx)("button",{type:"button",onClick:l,className:"header__burger"}),s&&Object(J.jsx)(ve,{onClose:o})]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(i.b,{to:g,className:"header__profile-link",children:C.title}),Object(J.jsx)(i.b,{to:f,className:"header__profile-link",children:k.action})]})})]})},Ne=a.p+"static/media/student.22e6909b.jpg";a(49);var ke=function(e){var t=new Date,a=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth();return(n<0||0===n&&t.getDate()<e.getDate())&&a--,a}(new Date(2002,3,25));var Ce=function(){return Object(J.jsx)("section",{className:"aboutme",id:"student",children:Object(J.jsxs)("article",{children:[Object(J.jsx)("h2",{className:"aboutme__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(J.jsxs)("div",{className:"aboutme__content",children:[Object(J.jsx)("img",{className:"aboutme__image",src:Ne,alt:"\u0410\u0440\u0442 \u0413\u0438\u043d\u0437\u0431\u0443\u0440\u0433"}),Object(J.jsxs)("div",{className:"aboutme__student",children:[Object(J.jsxs)("div",{className:"aboutme__student-article",children:[Object(J.jsx)("h3",{className:"aboutme__heading",children:"\u0410\u0440\u0442\u0443\u0440"}),Object(J.jsxs)("p",{className:"aboutme__subheading",children:["\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, ",ke," \u043b\u0435\u0442"]}),Object(J.jsx)("p",{className:"aboutme__text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam accumsan volutpat sollicitudin. Nullam eget mauris ante. Nullam id mattis sapien. Praesent mollis, diam eget dictum semper, velit diam ultrices ante, vitae condimentum lorem eros vitae tortor. Etiam elit leo, hendrerit et nisi a, aliquam suscipit tellus. Suspendisse pretium tellus ac erat ultrices viverra. Donec placerat dui nibh, vel aliquet tellus ultricies et."})]}),Object(J.jsxs)("div",{className:"aboutme__links",children:[Object(J.jsx)("a",{className:"aboutme__link",href:"https://t.me/ginzart",target:"_blank",rel:"noreferrer",children:"Telegram"}),Object(J.jsx)("a",{className:"aboutme__link",href:"https://github.com/artginzburg",target:"_blank",rel:"noreferrer",children:"GitHub"})]})]})]})]})})};a(50);function ye(e){var t=e.heading,a=e.children;return Object(J.jsxs)("li",{className:"aboutproject__column",children:[Object(J.jsx)("h3",{className:"aboutproject__heading",children:t}),Object(J.jsx)("p",{className:"aboutproject__text",children:a})]})}var Se=function(){return Object(J.jsx)("section",{className:"aboutproject",id:"about",children:Object(J.jsxs)("article",{children:[Object(J.jsx)("h2",{className:"aboutproject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(J.jsxs)("ul",{className:"aboutproject__columns",children:[Object(J.jsx)(ye,{heading:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(J.jsx)(ye,{heading:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e < 5 \u043d\u0435\u0434\u0435\u043b\u044c",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(J.jsxs)("ul",{className:"aboutproject__plan",children:[Object(J.jsxs)("li",{className:"aboutproject__plan-segment",children:[Object(J.jsx)("p",{className:"aboutproject__plan-heading",children:"3 \u0434\u043d\u044f"}),Object(J.jsx)("p",{className:"aboutproject__plan-text",children:"Back-end"})]}),Object(J.jsxs)("li",{className:"aboutproject__plan-segment",children:[Object(J.jsx)("p",{className:"aboutproject__plan-heading",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(J.jsx)("p",{className:"aboutproject__plan-text",children:"Front-end"})]})]})]})})};a(51);var we=function(){return Object(J.jsx)("nav",{className:"navtab",children:Object(J.jsxs)("ul",{className:"navtab__links",children:[Object(J.jsx)("li",{className:"navtab__link-container",children:Object(J.jsx)("a",{className:"navtab__link",href:"#about",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(J.jsx)("li",{className:"navtab__link-container",children:Object(J.jsx)("a",{className:"navtab__link",href:"#techs",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(J.jsx)("li",{className:"navtab__link-container",children:Object(J.jsx)("a",{className:"navtab__link",href:"#student",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})};a(52);var Ee=function(){return Object(J.jsxs)("section",{className:"portfolio",id:"portfolio",children:[Object(J.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(J.jsxs)("ul",{className:"portfolio__links",children:[Object(J.jsx)("li",{className:"portfolio__links-item",children:Object(J.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/how-to-learn/",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(J.jsx)("li",{className:"portfolio__links-item",children:Object(J.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/russian-travel/",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(J.jsx)("li",{className:"portfolio__links-item",children:Object(J.jsx)("a",{className:"portfolio__link",href:"https://artginzburg.github.io/react-mesto-auth/",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})};a(53);var Fe=function(){return Object(J.jsx)("section",{className:"promo",children:Object(J.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})},Ie=(a(54),[["HTML"],["CSS"],["JS","javascript"],["React"],["Git"],["Express.js","express"],["mongoDB"]]);var Te=function(){return Object(J.jsxs)("section",{className:"techs",id:"techs",children:[Object(J.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(J.jsxs)("article",{className:"techs__content",children:[Object(J.jsx)("h3",{className:"techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(J.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(J.jsx)("ul",{className:"techs__list",children:Ie.map((function(e,t){var a;return Object(J.jsx)("li",{className:"techs__list-item",children:Object(J.jsx)("a",{className:"techs__list-link",href:"https://github.com/topics/".concat((null!==(a=e[1])&&void 0!==a?a:e[0]).toLowerCase()),target:"_blank",rel:"noreferrer",children:e[0]})},t)}))})]})]})};var De=function(e){var t=e.loggedIn;return K("\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(xe,{loggedIn:t}),Object(J.jsxs)("main",{children:[Object(J.jsx)(Fe,{}),Object(J.jsx)(we,{}),Object(J.jsx)(Se,{}),Object(J.jsx)(Te,{}),Object(J.jsx)(Ce,{}),Object(J.jsx)(Ee,{})]}),Object(J.jsx)(ge,{})]})},Me=(a(55),["card","isSaved","type"]);function Le(e){return"".concat(e," ").concat(["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"][(t=e)%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?Math.abs(t)%10:5]]);var t}function Ue(e){var t=e.card,a=e.isSaved,n=e.type,c=Object(Z.a)(e,Me),s=["moviescard__button","moviescard__button_type_".concat(n)],r=t.nameRU||t.nameEN;return Object(J.jsxs)("li",{className:"moviescard",children:[Object(J.jsx)("a",{className:"moviescard__link",href:t.trailerLink,target:"_blank",rel:"noreferrer",children:Object(J.jsxs)("figure",{className:"moviescard__figure",children:[Object(J.jsxs)("div",{className:"moviescard__text-container",children:[Object(J.jsx)("figcaption",{className:"moviescard__title",children:r}),Object(J.jsx)("p",{className:"moviescard__duration",children:Le(t.duration)})]}),Object(J.jsx)("img",{className:"moviescard__image",src:"https://".concat(h).concat(t.image.url),alt:r})]})}),Object(J.jsx)("input",Object(z.a)({type:"checkbox",checked:"add"===n?a:!a,onChange:function(){a?c.onCardDelete(t):c.onCardSave(t)}},ae(s)))]})}a(56);var Pe=["cards","savedCards","type"];function ze(e){var t=e.cards,a=e.savedCards,c=e.type,s=Object(Z.a)(e,Pe);return console.log(a),Object(J.jsx)("section",{className:"moviescards",children:Object(J.jsx)("ul",{className:"moviescards__list",children:"add"===c?t.map((function(e){var t;return Object(n.createElement)(Ue,Object(z.a)(Object(z.a)({},s),{},{card:e,isSaved:a.includes(e),type:c,key:null!==(t=e.id)&&void 0!==t?t:Math.random()}))})):a.map((function(e){var t;return Object(n.createElement)(Ue,Object(z.a)(Object(z.a)({},s),{},{card:e,isSaved:!0,type:c,key:null!==(t=e.id)&&void 0!==t?t:Math.random()}))}))})})}a(57);function Je(){return Object(J.jsx)("section",{className:"searchform",children:Object(J.jsxs)("form",{className:"searchform__form",children:[Object(J.jsx)("fieldset",{className:"searchform__fieldset",children:Object(J.jsxs)("label",{className:"searchform__fieldset-container",children:[Object(J.jsx)("input",{required:!0,className:"searchform__input",type:"search",placeholder:"\u0424\u0438\u043b\u044c\u043c"}),Object(J.jsx)("button",{className:"searchform__submit",type:"submit"})]})}),Object(J.jsxs)("label",{className:"searchform__label",children:[Object(J.jsx)("input",{className:"searchform__switch",type:"checkbox"}),"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"]})]})})}var Re=["cards","savedCards","type","loggedIn"];function Ae(e){var t=e.cards,a=void 0===t?[]:t,n=e.savedCards,c=void 0===n?[]:n,s=e.type,r=void 0===s?"add":s,i=e.loggedIn,l=Object(Z.a)(e,Re);return K("add"===r?x.title:N.title),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(xe,{loggedIn:i}),Object(J.jsxs)("main",{children:[Object(J.jsx)(Je,{}),Object(J.jsx)(ze,Object(z.a)(Object(z.a)({},l),{},{type:r,cards:a,savedCards:c}))]}),Object(J.jsx)(ge,{})]})}a(58);function Be(){return Object(J.jsxs)("main",{className:"notfound",children:[Object(J.jsx)("h1",{className:"notfound__title",children:"404"}),Object(J.jsx)("h2",{className:"notfound__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(J.jsx)("nav",{className:"notfound__navigation",children:Object(J.jsx)(i.b,{to:m,className:"notfound__link",children:"\u041d\u0430\u0437\u0430\u0434"})})]})}a(59);var Ge=["loggedIn"];function qe(e){var t=e.loggedIn,a=Object(Z.a)(e,Ge);K("\u041f\u0440\u043e\u0444\u0438\u043b\u044c");var n=function(){var e=c.a.useContext(A);if(void 0===e)throw new Error("useCurrentUser must be used within a CurrentUserProvider");return e}();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(xe,{loggedIn:t}),Object(J.jsxs)("main",{className:"profile",children:[Object(J.jsxs)("h2",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",n.name,"!"]}),Object(J.jsxs)("ul",{className:"profile__details",children:[Object(J.jsxs)("li",{className:"profile__details-item",children:[Object(J.jsx)("h3",{className:"profile__details-heading",children:"\u0418\u043c\u044f"}),Object(J.jsx)("p",{className:"profile__details-text",children:n.name})]}),Object(J.jsxs)("li",{className:"profile__details-item",children:[Object(J.jsx)("h3",{className:"profile__details-heading",children:"E-mail"}),Object(J.jsx)("p",{className:"profile__details-text",children:n.email})]})]}),Object(J.jsxs)("div",{className:"profile__buttons",children:[Object(J.jsx)("button",{type:"button",className:"profile__button",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(J.jsx)("button",{onClick:a.handleSignOut,type:"button",className:"profile__button profile__button_type_dangerous",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})}var He=function(e){return Object(J.jsx)(d.b,{path:e.path,children:e.loggedIn?e.children:Object(J.jsx)(d.a,{to:f})})};var Ve=function(){var e=Object(d.g)(),t=P("currentUser",R),a=Object(b.a)(t,2),c=a[0],s=a[1],r=P("loggedIn",!1),i=Object(b.a)(r,2),l=i[0],h=i[1],v=function(e,t){var a=P(e,t),c=Object(b.a)(a,2),s=c[0],r=c[1],i=Object(n.useCallback)((function(e){r(btoa(e))}),[r]),l=Object(n.useRef)(atob(s));return Object(n.useEffect)((function(){l.current=atob(s)})),[l.current,i]}("email","")[1],x=P("cards",[]),N=Object(b.a)(x,2),k=N[0],C=N[1],y=P("savedCards",[]),S=Object(b.a)(y,2),w=S[0],E=S[1];Object(n.useEffect)((function(){l&&(L.getUserInfo().then(s).catch((function(e){return console.log("Couldnt get user info from the server",e)})),U.getAllMovies().then(C).catch((function(e){return console.log("Couldnt get initial cards from the server",e)})),L.getMovies().then(E).catch((function(e){return console.log("Couldnt get saved cards from the server",e)})))}),[l,C,s,E]);var F=Object(n.useCallback)((function(e){var t=w;return E(w.filter((function(t){return t._id!==e._id}))),L.deleteMovie(e._id).catch((function(e){E(t),console.log("Couldnt delete card on the server",e)}))}),[w,E]);function I(e){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w,E([t].concat(Object(j.a)(w))),e.prev=2,e.next=5,L.saveMovie(t);case 5:return n=e.sent,E(w.map((function(e){return e._id===t._id?n:e}))),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),E(a),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var D=Object(n.useCallback)((function(e){v(e),h(!0)}),[v,h]),M=Object(n.useCallback)((function(){L.getUserInfo().then((function(t){t&&(D(t.email),e.replace(m))})).catch((function(e){h(!1),console.log(e)}))}),[D,e,h]);return Object(n.useEffect)((function(){M()}),[M]),Object(J.jsx)(G,{state:c,dispatch:s,children:Object(J.jsxs)(d.d,{children:[Object(J.jsx)(d.b,{exact:!0,path:m,children:Object(J.jsx)(De,{loggedIn:l})}),Object(J.jsx)(d.b,{path:[g,f],children:Object(J.jsx)(_e,{loggedIn:l,handleLogin:function(t,a,n){if(a&&n)return L.login(a,n).then((function(n){n&&(t.target.reset(),D(a),e.push(m))})).catch((function(e){console.log(e)}))},handleRegister:function(t,a,n,c){return L.register(a,n,c).then((function(){e.replace(f)})).catch((function(e){console.log(e)}))}})}),Object(J.jsx)(He,{path:O,loggedIn:l,children:Object(J.jsx)(Ae,{onCardSave:I,onCardDelete:F,savedCards:w,cards:k,loggedIn:l})}),Object(J.jsx)(He,{path:_,loggedIn:l,children:Object(J.jsx)(Ae,{onCardSave:I,onCardDelete:F,savedCards:w,cards:k,type:"remove",loggedIn:l})}),Object(J.jsx)(He,{path:p,loggedIn:l,children:Object(J.jsx)(qe,{handleSignOut:function(){L.logout().then((function(){h(!1),e.replace(f),window.scrollTo(0,0)})).catch((function(e){console.log(e)}))},loggedIn:l})}),Object(J.jsx)(d.b,{component:Be})]})})},Ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(i.a,{basename:"",children:Object(J.jsx)(Ve,{})})}),document.getElementById("root")),Ye()}],[[60,1,2]]]);
//# sourceMappingURL=main.3d574072.chunk.js.map